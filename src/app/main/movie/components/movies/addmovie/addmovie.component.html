<div class="content-wrapper container-xxl p-0">
  <div class="content-body">
    <!-- content-header component -->
    <app-content-header [contentHeader]="contentHeader"></app-content-header>

    <!-- Add Movie -->
    <div class="blog-edit-wrapper">
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-body">
              <!-- Form -->
              <form class="mt-2">
                <div class="row">
                  <div class="col-md-6 col-12">
                    <div class="form-group mb-2">
                      <label for="blog-edit-title">Title</label>
                      <input
                        type="text"
                        id="blog-edit-title"
                        name="blog-edit-title"
                        class="form-control"
                        [(ngModel)]="movie.title"
                      />
                    </div>
                  </div>
                  <div class="col-md-6 col-12">
                    <div class="form-group mb-2">
                      <label for="blog-edit-category">Category</label>

                      <ng-select
                        [items]="categories"
                        [multiple]="true"
                        [closeOnSelect]="false"
                        [searchable]="false"
                        bindLabel="name"
                        placeholder="Select people"
                        [(ngModel)]="movie.categories"
                        name="selectTitle"
                      >
                      </ng-select>
                    </div>
                  </div>
                  <div class="col-md-6 col-12">
                    <div class="form-group mb-2">
                      <label for="blog-edit-slug">Director full name</label>
                      <input
                        type="text"
                        id="blog-edit-slug"
                        class="form-control"
                        name="movie.director.name"
                        [(ngModel)]="movie.director.name"
                      />
                    </div>
                  </div>
                  <div class="col-md-6 col-12">
                    <div class="form-group mb-2">
                      <label for="blog-edit-status">Director photo link</label>
                      <input
                        type="text"
                        id="blog-edit-slug"
                        class="form-control"
                        name="movie.director.link"
                        [(ngModel)]="movie.director.photoLink"
                      />
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="form-group mb-2">
                      <label>Content</label>
                      <quill-editor
                      [(ngModel)]="movie.description"
                      name="movie.description"
                      >
                        <div quill-editor-toolbar>
                          <span class="ql-formats">
                            <button class="ql-bold" [title]="'Bold'"></button>
                            <button
                              class="ql-italic"
                              [title]="'italic'"
                            ></button>
                            <button
                              class="ql-underline"
                              [title]="'underline'"
                            ></button>
                          </span>
                          <span class="ql-formats">
                            <select class="ql-align" [title]="'Alignment'">
                              <option selected></option>
                              <option value="center"></option>
                              <option value="right"></option>
                              <option value="justify"></option>
                            </select>
                          </span>
                        </div>
                      </quill-editor>
                    </div>
                  </div>
                  <div class="col-12 mb-2">
                    <div class="border rounded p-2">
                      <h4 class="mb-1">Movie Poster</h4>
                      <div class="media flex-column flex-md-row">
                        <img
                          [src]="coverPreview"
                          class="rounded mr-2 mb-1 mb-md-0"
                          width="110"
                          height="170"
                          alt="..."
                        />
                        <div class="media-body">
                          <small class="text-muted">Required an image.</small>
                          <br /><br />
                          <div class="d-inline-block">
                            <div class="form-group mb-0">
                              <div class="custom-file">
                                <input
                                  type="file"
                                  class="custom-file-input"
                                  id="blogCustomFile"
                                  accept="image/*"
                                  (change)="selectImage($event)"
                                />
                                <label
                                  class="custom-file-label"
                                  for="blogCustomFile"
                                  >Choose file</label
                                >
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Add actors -->
                  <div class="col-12 mb-2">
                    <div class="border rounded p-2">
                      <h4 class="mb-1">Add actors</h4>
                      <form action="#" class="invoice-repeater">
                        <div
                          *ngFor="let actor of movie.actors; let i = index">
                          <div class="row d-flex align-items-end">
                            <div class="col-md-3 col-12">
                              <div class="form-group">
                                <label for="itemName{{ i }}">First name</label>
                                <input
                                  type="text"
                                  class="form-control"
                                  [(ngModel)]="movie.actors[i].firstName"
                                  name="firstName{{ i }}"
                                  id="firstName{{ i }}"
                                  placeholder="actor first name"
                                />
                              </div>
                            </div>

                            <div class="col-md-3 col-12">
                              <div class="form-group">
                                <label for="itemCost">Last name</label>
                                <input
                                  type="text"
                                  class="form-control"
                                  id="lastName"
                                  [(ngModel)]="movie.actors[i].lastName"
                                  name="lastName{{ i }}"
                                  id="lastName{{ i }}"
                                  placeholder="actor last name"
                                />
                              </div>
                            </div>
                            
                            <div class="col-md-2 col-12">
                                <div class="form-group">
                                  <label for="itemCost">Age</label>
                                  <input
                                    type="number"
                                    class="form-control"
                                    id="age"
                                    [(ngModel)]="movie.actors[i].age"
                                    name="age{{ i }}"
                                    id="age{{ i }}"
                                    placeholder="0"
                                  />
                                </div>
                            </div>

                            <div class="col-md-3 col-12">
                              <div class="form-group">
                                <label for="itemCost">Photo link</label>
                                <input
                                  type="text"
                                  class="form-control"
                                  id="photoLink"
                                  [(ngModel)]="movie.actors[i].photoLink"
                                  name="photoLink{{ i }}"
                                  id="photoLink{{ i }}"
                                  placeholder="actor photo link"
                                />
                              </div>
                            </div>

                          </div>
                          <hr />
                        </div>
                        
                        <div class="col-md-2 col-12 mb-50">
                            <div class="form-group">
                              <button
                                  class="btn btn-icon btn-primary"
                                  type="button"
                                  (click)="addItem()"
                                  rippleEffect
                                >
                                  <i data-feather="plus" class="mr-25"></i>
                                  <span>Add New</span>
                                </button>
                            </div>
                          </div>
                      </form>
                    </div>
                  </div>
                  <!--/ Add actors -->
                  <div class="col-12 mt-50">
                    <button
                      type="submit"
                      class="btn btn-primary mr-1"
                      (click)="saveMovie()"
                      rippleEffect
                    >
                      Save movie
                    </button>
                    <button
                      type="reset"
                      class="btn btn-outline-secondary"
                      rippleEffect
                    >
                      Cancel
                    </button>
                  </div>
                </div>
              </form>
              <!--/ Form -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--/ Add Movie -->
  </div>
</div>
